title: Structural Equation Modeling
name: semljgui
jus: '2.0'
stage: 0
compilerMode: tame
events:
    update: ./gui.events::update
children:
    -   type: VariableSupplier
        persistentItems: true
        stretchFactor: 1
        suggested:
            - continuous
            - ordinal
        permitted:
            - numeric
            - factor
            - id
        children:
            -   type: TargetLayoutBox
                label: Latent Endogenous Variables
                children:
                    -   type: ListBox
                        name: endogenous
                        height: large
                        addButton: Add New Latent
                        events:
                            listItemAdded: ./gui.events::onChange_items_changed
                            listItemRemoved: ./gui.events::onChange_items_changed
                        templateName: linreg-block-template
                        template:
                            type: LayoutBox
                            margin: normal
                            children:
                                -   type: TextBox
                                    events:
                                        change: ./gui.events::onChange_latentName
                                    valueKey: label
                                    borderless: true
                                    name: blockName
                                    stretchFactor: 1
                                    margin: normal
                                -   type: VariablesListBox
                                    name: blocklist
                                    valueFilter: unique
                                    events:
                                        listItemAdded: ./gui.events::onChange_items_changed
                                        listItemRemoved: ./gui.events::onChange_items_changed
                                    valueKey: vars
                                    isTarget: true
                                    height: auto
                                    ghostText: drag variables here
            -   type: TargetLayoutBox
                label: Latent Exogenous Variables
                children:
                    -   type: ListBox
                        name: exogenous
                        height: large
                        addButton: Add New Latent
                        templateName: linreg-block-template
                        events:
                            listItemAdded: ./gui.events::onChange_items_changed
                            listItemRemoved: ./gui.events::onChange_items_changed
                        template:
                            type: LayoutBox
                            margin: normal
                            children:
                                -   type: TextBox
                                    events:
                                        change: ./gui.events::onChange_latentName
                                    valueKey: label
                                    borderless: true
                                    name: blockName
                                    stretchFactor: 1
                                    margin: normal
                                -   type: VariablesListBox
                                    valueFilter: unique
                                    events:
                                        listItemAdded: ./gui.events::onChange_items_changed
                                        listItemRemoved: ./gui.events::onChange_items_changed
                                    valueKey: vars
                                    name: blockList
                                    isTarget: true
                                    height: auto
                                    ghostText: drag variables here
            -   type: TargetLayoutBox
                children:
                    -   type: VariablesListBox
                        name: multigroup
                        maxItemCount: 1
                        isTarget: true
                        itemDropBehaviour: overwrite
    -   type: LayoutBox
        margin: large
        style: inline
        children:
            -   type: CheckBox
                name: donotrun
    -   type: CollapseBox
        label: Second Oder Factors
        collapsed: true
        stretchFactor: 1
        children:
            -   type: LayoutBox
                margin: large
                stretchFactor: 1
                children:
                    -   type: Supplier
                        name: secondorderSupplier
                        label: Defined Factors
                        format: term
                        persistentItems: true
                        stretchFactor: 1
                        events:
                            update: ./gui.events::onUpdate_secondorderSupplier
                            change: ./gui.events::onChange_secondorderSupplier
                        children:
                            -   type: TargetLayoutBox
                                label: Second Order Factors
                                children:
                                    -   type: ListBox
                                        name: secondorder
                                        height: large
                                        addButton: Add New Latent
                                        events:
                                            listItemAdded: ./gui.events::onChange_items_changed
                                            listItemRemoved: ./gui.events::onChange_items_changed
                                        templateName: linreg-block-template
                                        template:
                                            type: LayoutBox
                                            margin: normal
                                            children:
                                                -   type: TextBox
                                                    events:
                                                        change: ./gui.events::onChange_SecondName
                                                    valueKey: label
                                                    borderless: true
                                                    name: blockName
                                                    stretchFactor: 1
                                                    margin: normal
                                                -   type: VariablesListBox
                                                    valueFilter: unique
                                                    events:
                                                        listItemAdded: ./gui.events::onChange_items_changed
                                                        listItemRemoved: ./gui.events::onChange_items_changed
                                                        change: ./gui.events::onChange_secondorderTerms
                                                    valueKey: vars
                                                    name: blockList
                                                    isTarget: true
                                                    height: auto
                                                    ghostText: drag variables here
    -   type: CollapseBox
        label: Endogenous models
        collapsed: true
        stretchFactor: 1
        children:
            -   type: LayoutBox
                margin: large
                stretchFactor: 1
                children:
                    -   type: Supplier
                        label: Defined Factors
                        name: endogenousSupplier
                        format: term
                        persistentItems: true
                        stretchFactor: 1
                        events:
                            update: ./gui.events::onUpdate_endogenousSupplier
                            change: ./gui.events::onChange_endogenousSupplier
                        children:
                            -   type: TargetLayoutBox
                                label: Endogenous Variables Models
                                transferAction: interactions
                                children:
                                    -   type: ListBox
                                        name: endogenousTerms
                                        height: large
                                        selectable: true
                                        templateName: linreg-block-template
                                        template:
                                            type: LayoutBox
                                            margin: normal
                                            targetArea: true
                                            children:
                                                -   type: Label
                                                    label: empty
                                                    name: blockName
                                                    stretchFactor: 1
                                                    margin: normal
                                                -   type: ListBox
                                                    enable: (endogenous)
                                                    name: blockList
                                                    isTarget: true
                                                    valueFilter: unique
                                                    height: auto
                                                    ghostText: drag variables here
                                                    events:
                                                        change: ./gui.events::onChange_endogenousTerms
                                                    template:
                                                        type: TermLabel
    -   type: CollapseBox
        label: Variances and covariances
        collapsed: true
        stretchFactor: 1
        children:
            -   type: LayoutBox
                margin: large
                style: inline
                stretchFactor: 1
                children:
                    -   type: VariableSupplier
                        name: varcovSupplier
                        populate: manual
                        persistentItems: true
                        stretchFactor: 1
                        events:
                            change: ./gui.events::onChange_varcovSupplier
                            update: ./gui.events::onUpdate_varcovSupplier
                        children:
                            -   type: TargetLayoutBox
                                label: Select pairs
                                children:
                                    -   type: VariablesListBox
                                        name: varcov
                                        fullRowSelect: true
                                        isTarget: true
                                        events:
                                            change: ./gui.events::onChange_varcov
                                        columns:
                                            -   name: i1
                                                stretchFactor: 1
                                                template:
                                                    type: VariableLabel
                                            -   name: i2
                                                stretchFactor: 1
                                                template:
                                                    type: VariableLabel

    -   type: CollapseBox
        label: Custom model settings
        collapsed: true
        stretchFactor: 1
        children:
            -   type: LayoutBox
                margin: large
                stretchFactor: 1
                children:
                    -   type: LayoutBox
                        margin: large
                        stretchFactor: 1
                        children:
                            -   type: TargetLayoutBox
                                children:
                                    -   type: ListBox
                                        name: constraints
                                        events:
                                            change: ./gui.events::onChange_constraints
                                        height: large
                                        addButton: Add directive
                                        selectable: true
                                        templateName: linreg-block-template
                                        template:
                                            type: LayoutBox
                                            margin: normal
                                            stretchFactor: 1
                                            children:
                                                -   type: TextBox
                                                    name: randblockList
                                                    valueFilter: unique
                                                    stretchFactor: 0.5
                                                    borderless: true
                                                    height: auto
                                                    ghostText: write here
    -   type: scaffold
        name: panel_modeloptions
        file: commons.u.yaml
    -   type: scaffold
        name: parameters_options
        file: commons.u.yaml
        
    -   type: CollapseBox
        label: Multi-group analysis
        name: multigroup_options
        collapsed: true
        stretchFactor: 1
        style: list
        children:
            -   type: LayoutBox
                margin: large
                style: list
                children:
                    -   type: Label
                        label: Equality constraints
                    -   type: LayoutBox
                        margin: large
                        style: inline
                        children:
                            -   type: LayoutBox
                                margin: large
                                style: list
                                children:
                                    -   type: CheckBox
                                        name: eq_loadings
                                    -   type: CheckBox
                                        name: eq_intercepts
                                    -   type: CheckBox
                                        name: eq_means
                            -   type: LayoutBox
                                margin: large
                                style: list
                                children:
                                    -   type: CheckBox
                                        name: eq_thresholds
                                    -   type: CheckBox
                                        name: eq_residuals
                                    -   type: CheckBox
                                        name: eq_residual.covariances
                            -   type: LayoutBox
                                margin: large
                                style: list
                                children:
                                    -   type: CheckBox
                                        name: eq_regressions
                                    -   type: CheckBox
                                        name: eq_lv.variances
                                    -   type: CheckBox
                                        name: eq_lv.covariances
    -   type: CollapseBox
        label: Exploratory SEM options
        collapsed: true
        stretchFactor: 1
        children:
            -   type: LayoutBox
                margin: large
                stretchFactor: 1
                children:
                    -   type: Supplier
                        label: Defined Factors
                        name: esemSupplier
                        format: term
                        persistentItems: false
                        stretchFactor: 1
                        events:
                            update: ./gui.events::onEvent_nothing
                            change: ./gui.events::onEvent_nothing
                        children:
                            -   type: TargetLayoutBox
                                transferAction: none
                                name: esem_layout
                                children:
                                    -   type: ListBox
                                        name: esem_terms
                                        label: Factors blocks
                                        height: normal
                                        addButton: Add factors block
                                        events:
                                            change: ./gui.events::onEvent_nothing
                                        selectable: true
                                        templateName: linreg-block-template
                                        template:
                                            type: LayoutBox
                                            margin: normal
                                            targetArea: true
                                            children:
                                                -   type: ListBox
                                                    name: factorblockList
                                                    height: auto
                                                    isTarget: true
                                                    valueFilter: unique
                                                    ghostText: drag term here
                                                    template:
                                                        type: VariableLabel
            -   type: LayoutBox
                margin: large
                style: inline
                children:
                    -   type: Label
                        label: Rotation
                        margin: large
                        style: list
                        children:
                            -   type: ComboBox
                                name: rotation
                            -   type: ComboBox
                                name: algorithm
                            -   type: CheckBox
                                name: orthogonal
                            -   type: CheckBox
                                name: efa_std.ov
                    -   type: Label
                        label: Rotations options
                        margin: large
                        style: list
                        children:
                            -   type: TextBox
                                name: geomin.epsilon
                                format: number
                                enable: (rotation:geomin)
                            -   type: TextBox
                                name: orthomax.gamma
                                format: number
                                enable: (rotation:orthomax)
                            -   type: TextBox
                                name: oblimin.gamma
                                format: number
                                enable: (rotation:oblimin)

    -   type: scaffold
        name: output_options
        file: commons.u.yaml
    -   type: scaffold
        name: pathdiagram_options
        file: commons.u.yaml
    -   type: scaffold
        name: datatype_options
        file: commons.u.yaml
